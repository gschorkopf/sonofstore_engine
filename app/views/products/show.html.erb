<% cache("product_show_id_#{@product.id}") do %>

<div class="row">

  <div class="prod_detail_img span6">
    <P><%= image_tag generate_image_url(500, @product.id) %></P>
    <!-- <p><%#= image_tag @product.image.url(:large) %></p> -->
  </div>

  <div class="prod_detail_text span6">
    <h2><% t('product.title') %><%= @product.title %></h2>
    <p><% t('product.description') %><%= @product.description %></p>

    <div id="product-categories">
      <b><%= t('categories.self') %>:</b>
      <% @product.categories.each do |category| %>
          <a href='/products/?category_id=<%= category.id %>'><span class="label"><%= category.title %></span></a>
      <% end %>
    </div>

    <br>
      <p><%= t('product.price') %>: <%= number_to_currency(@product.price) %></p>
    <% if @product.status == 'active' %>
      <%= render partial: 'add_to_cart_button', locals: {product: @product} %>
    <% else %>
      <p> Product is retired! </p>
    <% end %>
  </div>
</div>

<% end %> <!-- ends the caching block-->

